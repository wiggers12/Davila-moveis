<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sua Marca Aqui üëë</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
<style>
:root{
  --primary:#7d3cff;--secondary:#ffb347;--success:#2ecc71;--info:#3498db;--danger:#e74c3c;
  --bg:#f8f9fd;--light:#fff;--dark:#333;--shadow:0 4px 20px rgba(0,0,0,.1);
}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Poppins',sans-serif;background:var(--bg);color:var(--dark);}
header{background:linear-gradient(135deg,var(--primary),#9d5bff);color:#fff;padding:1.2rem;text-align:center;box-shadow:var(--shadow);}
nav{background:#fff;box-shadow:var(--shadow);display:flex;overflow-x:auto;position:sticky;top:0;z-index:100;}
nav button{flex:1;min-width:120px;border:none;background:none;padding:.8rem;font-weight:600;cursor:pointer;transition:.3s;display:flex;flex-direction:column;align-items:center;gap:.3rem;}
nav button.active{color:var(--primary);border-bottom:3px solid var(--primary);}
nav button small{font-size:.75rem;color:#666;}
.badge{background:var(--danger);color:#fff;padding:.1rem .4rem;border-radius:12px;font-size:.7rem;font-weight:600;}
section{display:none;padding:1.5rem;max-width:1200px;margin:auto;}
section.active{display:block;}
/* Produtos */
.swiper{width:100%;padding:1rem 0;}
.swiper-slide{background:#fff;border-radius:12px;box-shadow:var(--shadow);overflow:hidden;text-align:center;}
.swiper-slide img{width:100%;height:220px;object-fit:cover;}
.product-info{padding:1rem;}
.order-button{background:linear-gradient(135deg,var(--primary),#5a0a99);color:#fff;border:none;padding:.6rem 1rem;border-radius:8px;cursor:pointer;transition:.3s;}
.order-button:hover{opacity:.9;}
/* Carrinho */
.cart-container{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:var(--shadow);margin-top:2rem;}
.cart-item{display:flex;justify-content:space-between;border-bottom:1px solid #eee;padding:.5rem 0;}
.cart-total{font-weight:700;color:var(--primary);text-align:right;margin-top:1rem;}
.btn-finish{background:linear-gradient(135deg,var(--success),#27ae60);color:#fff;border:none;padding:.9rem;border-radius:8px;width:100%;margin-top:1rem;font-weight:600;cursor:pointer;}
.btn-finish:disabled{background:#aaa;}
/* Bot√£o carrinho flutuante */
#cart-fab{position:fixed;bottom:20px;right:20px;background:var(--primary);color:#fff;border:none;border-radius:50%;width:60px;height:60px;font-size:1.5rem;cursor:pointer;display:none;align-items:center;justify-content:center;box-shadow:var(--shadow);}
#cart-fab span{position:absolute;top:8px;right:8px;background:var(--danger);border-radius:50%;padding:2px 6px;font-size:.8rem;}
/* Modal montagem */
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;z-index:200;}
.modal.active{display:flex;}
.modal-content{background:#fff;padding:1.5rem;border-radius:12px;max-width:500px;width:90%;max-height:90vh;overflow:auto;}
.topping{border:1px solid #ddd;padding:.5rem;border-radius:6px;cursor:pointer;margin:.3rem;display:inline-block;}
.topping.selected{background:#eee;border-color:var(--primary);}
</style>
</head>
<body>

<header>
  <h1>Sua Marca Aqui üëë</h1>
  <p>Monte, pe√ßa e gerencie tudo em um s√≥ lugar</p>
</header>

<nav>
  <button class="active" onclick="showTab('catalogo')">üõí<span>Cat√°logo</span></button>
  <button onclick="showTab('pedidos')">üì¶<span>Pedidos</span></button>
  <button onclick="showTab('financeiro')">üí∞<span>Financeiro</span></button>
  <button onclick="showTab('estoque')">üìä<span>Estoque</span></button>
  <button onclick="showTab('logistica')">üöö<span>Log√≠stica</span></button>
</nav>

<!-- Cat√°logo -->
<section id="catalogo" class="active">
  <h2>Monte seu A√ßa√≠ - Sua Marca Aqui</h2>
  <div class="swiper">
    <div class="swiper-wrapper" id="products-container"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
</section>

<!-- Carrinho -->
<section id="carrinho">
  <h2>Seu Pedido</h2>
  <div class="cart-container">
    <div id="cart-items"><p>Seu carrinho est√° vazio</p></div>
    <div class="cart-total">Total: <span id="cart-total-price">R$ 0,00</span></div>
    <input id="client-name" placeholder="Sua Marca Aqui">
    <input id="client-address" placeholder="Endere√ßo">
    <select id="payment-method"><option>Pix</option><option>Dinheiro</option><option>Cart√£o</option></select>
    <button class="btn-finish" id="finish-order-button" disabled>Finalizar Pedido</button>
  </div>
</section>

<!-- Pedidos -->
<section id="pedidos"><h2>Pedidos - Sua Marca Aqui</h2><div id="orders-list"></div></section>

<!-- Financeiro -->
<section id="financeiro">
  <h2>Financeiro - Sua Marca Aqui</h2>
  <canvas id="salesChart"></canvas>
</section>

<!-- Estoque -->
<section id="estoque"><h2>Estoque - Sua Marca Aqui</h2><div id="stock-list"></div></section>

<!-- Log√≠stica -->
<section id="logistica"><h2>Log√≠stica - Sua Marca Aqui</h2><div id="logistics-list"></div></section>

<!-- FAB Carrinho -->
<button id="cart-fab" onclick="showTab('carrinho')">üõí<span id="fab-count">0</span></button>

<!-- Modal montagem -->
<div class="modal" id="builder-modal">
  <div class="modal-content">
    <h3 id="modal-title">Monte seu A√ßa√≠</h3>
    <div id="toppings-container"></div>
    <p>Total: <span id="modal-total">R$ 0,00</span></p>
    <button class="order-button" onclick="confirmAdd()">Adicionar ao Carrinho</button>
    <button class="order-button" style="background:#aaa;margin-top:.5rem" onclick="closeModal()">Cancelar</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
let cart=[],orders=JSON.parse(localStorage.getItem("acaiOrders"))||[];
let currentProduct=null,selectedToppings=[];
const PRODUCTS=[
 {id:1,name:"Copo 300ml",price:12,cost:6,stock:10,image:"https://images.unsplash.com/photo-1617196039897-d68e4f5a5a2c"},
 {id:2,name:"Copo 500ml",price:18,cost:9,stock:10,image:"https://images.unsplash.com/photo-1604908177522-8e43f5201fa3"},
 {id:3,name:"Barca A√ßa√≠",price:35,cost:18,stock:5,image:"https://images.unsplash.com/photo-1598514982419-1cbcb2f3c1b9"}
];
const TOPPINGS=[{name:"Leite em p√≥",price:2},{name:"Morango",price:3},{name:"Pa√ßoca",price:1.5},{name:"Granola",price:2}];

function showTab(id){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function renderProducts(){
 document.getElementById("products-container").innerHTML=PRODUCTS.map(p=>`
   <div class="swiper-slide">
     <img src="${p.image}" alt="${p.name}">
     <div class="product-info">
       <h3>${p.name}</h3>
       <p>R$ ${p.price}</p>
       <button class="order-button" onclick="openModal(${p.id})">Selecionar</button>
     </div>
   </div>`).join("");
 new Swiper(".swiper",{slidesPerView:1,spaceBetween:20,autoplay:{delay:3000},loop:true,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});
}

// Modal montagem
function openModal(id){
  currentProduct=PRODUCTS.find(p=>p.id===id);
  selectedToppings=[];
  document.getElementById("modal-title").innerText="Monte seu "+currentProduct.name;
  document.getElementById("toppings-container").innerHTML=TOPPINGS.map((t,i)=>`<div class="topping" onclick="toggleTopping(${i})">${t.name} +R$${t.price}</div>`).join("");
  updateModalTotal();
  document.getElementById("builder-modal").classList.add("active");
}
function toggleTopping(i){
 let el=document.getElementsByClassName("topping")[i];
 let t=TOPPINGS[i];
 if(selectedToppings.includes(t)){selectedToppings=selectedToppings.filter(x=>x!==t);el.classList.remove("selected");}
 else{selectedToppings.push(t);el.classList.add("selected");}
 updateModalTotal();
}
function updateModalTotal(){
 let total=currentProduct.price+selectedToppings.reduce((s,t)=>s+t.price,0);
 document.getElementById("modal-total").innerText="R$ "+total.toFixed(2);
}
function closeModal(){document.getElementById("builder-modal").classList.remove("active");}
function confirmAdd(){
 let total=currentProduct.price+selectedToppings.reduce((s,t)=>s+t.price,0);
 cart.push({product:currentProduct,toppings:[...selectedToppings],total});
 updateCart();
 closeModal();
}

// Carrinho
function updateCart(){
 let c=document.getElementById("cart-items");
 if(cart.length==0){c.innerHTML="<p>Seu carrinho est√° vazio</p>";document.getElementById("cart-fab").style.display="none";}
 else{
   c.innerHTML=cart.map((it,i)=>`<div class="cart-item"><span>${it.product.name} (${it.toppings.map(t=>t.name).join(", ")||"Sem adicionais"})</span><span>R$ ${it.total}</span><button onclick="removeFromCart(${i})">‚ùå</button></div>`).join("");
   document.getElementById("cart-fab").style.display="flex";
   document.getElementById("fab-count").innerText=cart.length;
 }
 document.getElementById("cart-total-price").innerText="R$ "+cart.reduce((s,i)=>s+i.total,0).toFixed(2);
 checkForm();
}
function removeFromCart(i){cart.splice(i,1);updateCart();}
function checkForm(){document.getElementById("finish-order-button").disabled=!(document.getElementById("client-name").value&&document.getElementById("client-address").value&&cart.length>0);}
document.getElementById("client-name").addEventListener("input",checkForm);document.getElementById("client-address").addEventListener("input",checkForm);
document.getElementById("finish-order-button").addEventListener("click",()=>alert("Pedido finalizado pela Sua Marca Aqui!"));

renderProducts();updateCart();
</script>
</body>
</html>