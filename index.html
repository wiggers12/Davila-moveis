<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cat√°logo de Produtos</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin:0; padding:0; font-family:"Poppins", sans-serif; }
    body { background:#f9f9f9; color:#333; display:flex; flex-direction:column; min-height:100vh; }
    header { background:#ffcc00; padding:15px; text-align:center; font-weight:700; font-size:20px; position:relative; }
    main { flex:1; }

    /* Barra de pesquisa */
    .search-bar { display:flex; justify-content:center; margin:10px 15px; }
    .search-bar input { width:100%; max-width:400px; padding:10px; border-radius:6px; border:1px solid #ccc; }

    .catalogo { display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:15px; padding:15px; }
    .card { background:#fff; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); padding:10px; cursor:pointer; transition:.2s; position:relative; }
    .card:hover { transform:translateY(-3px); }
    .card img { width:100%; height:120px; object-fit:cover; border-radius:8px; }
    .card h3 { font-size:15px; margin:8px 0 5px; }
    .card p { color:#27ae60; font-weight:600; margin:2px 0; }
    .fav-btn { position:absolute; top:8px; right:8px; background:#fff; border:none; border-radius:50%; width:30px; height:30px; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:16px; }
    .fav-btn.active { color:red; }
    .stars { color:#f1c40f; font-size:14px; margin-top:4px; }

    /* Modal produto */
    .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); align-items:center; justify-content:center; z-index:1000; }
    .modal-content { background:#fff; border-radius:10px; padding:20px; max-width:500px; width:95%; max-height:90%; overflow-y:auto; }
    .modal-content img { width:100%; border-radius:8px; margin-bottom:10px; }
    .thumbs { display:flex; gap:10px; margin-top:10px; }
    .thumbs img { width:60px; height:60px; object-fit:cover; border-radius:6px; cursor:pointer; border:2px solid transparent; }
    .thumbs img:hover { border:2px solid #ffcc00; }
    .btn { display:inline-block; margin:10px 5px 0; padding:10px 15px; border:none; border-radius:6px; font-weight:600; cursor:pointer; text-align:center; }
    .btn-whats { background:#25d366; color:#fff; }
    .btn-site { background:#3498db; color:#fff; }
    .btn-cart { background:#ff9800; color:#fff; }

    /* Carrinho */
    #cart-btn { position:fixed; bottom:80px; right:20px; background:#ff9800; color:#fff; border:none; border-radius:50%; width:60px; height:60px; font-size:22px; cursor:pointer; }
    #cart-count { position:absolute; top:-5px; right:-5px; background:red; color:#fff; border-radius:50%; font-size:14px; width:22px; height:22px; display:flex; align-items:center; justify-content:center; }
    #cart-modal .modal-content { max-width:400px; }
    .cart-item { display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
    .cart-item img { width:50px; height:50px; border-radius:6px; object-fit:cover; }
    .cart-total { font-weight:700; margin-top:15px; }

    /* Checkout */
    .checkout { margin-top:20px; }
    .checkout label { display:block; margin:10px 0 5px; font-weight:600; }
    .checkout select, .checkout input { width:100%; padding:8px; border:1px solid #ddd; border-radius:6px; }

    /* Rodap√© */
    footer { background:#2c3e50; color:#fff; padding:20px; text-align:center; margin-top:auto; }
    footer p { margin:5px 0; }
    footer a { color:#ffcc00; text-decoration:none; margin:0 5px; }
  </style>
</head>
<body>
  <header>üõçÔ∏è Cat√°logo de Produtos</header>

  <!-- Barra de pesquisa -->
  <div class="search-bar">
    <input type="text" id="search" placeholder="üîé Buscar produtos..." oninput="filtrarProdutos()">
  </div>

  <main>
    <!-- Lista de produtos -->
    <div class="catalogo" id="catalogo"></div>
  </main>

  <!-- Modal produto -->
  <div class="modal" id="productModal">
    <div class="modal-content">
      <h2 id="prodTitle"></h2>
      <div class="stars" id="prodStars"></div>
      <img id="mainImg" src="">
      <div class="thumbs" id="thumbs"></div>
      <p id="prodDesc"></p>
      <p id="prodPrice" style="color:#27ae60;font-weight:700;font-size:18px;"></p>
      <button class="btn btn-whats" id="buyWhats">Comprar no WhatsApp</button>
      <button class="btn btn-site" id="buySite">Comprar no Site</button>
      <button class="btn btn-cart" id="addCart">Adicionar ao Carrinho</button>
      <button class="btn" onclick="closeModal()">Fechar</button>
    </div>
  </div>

  <!-- Modal carrinho -->
  <div class="modal" id="cart-modal">
    <div class="modal-content">
      <h2>üõí Seu Carrinho</h2>
      <div id="cart-items"></div>
      <p class="cart-total">Total: R$ <span id="cart-total">0.00</span></p>

      <!-- Checkout -->
      <div class="checkout">
        <label for="pay">Forma de Pagamento</label>
        <select id="pay">
          <option value="pix">Pix</option>
          <option value="card">Cart√£o de Cr√©dito</option>
          <option value="boleto">Boleto</option>
        </select>
        <div id="extra"></div>
        <button class="btn btn-whats" onclick="checkoutWhats()">Finalizar no WhatsApp</button>
        <button class="btn btn-site" onclick="checkoutCatalog()">Pagar Agora</button>
      </div>

      <button class="btn" onclick="closeCart()">Fechar</button>
    </div>
  </div>

  <!-- Bot√£o carrinho -->
  <button id="cart-btn">
    üõí
    <span id="cart-count">0</span>
  </button>

  <!-- Rodap√© -->
  <footer>
    <p>¬© 2025 Meu Cat√°logo. Todos os direitos reservados.</p>
    <p>
      <a href="https://wa.me/5551998378751" target="_blank">WhatsApp</a> | 
      <a href="#">Instagram</a> | 
      <a href="#">Facebook</a>
    </p>
  </footer>

  <script>
    // Produtos exemplo
    const produtos = [
      {id:1,nome:"Camiseta Premium",preco:89.90,desc:"Camiseta 100% algod√£o com v√°rias cores.",imagens:["https://picsum.photos/400?1","https://picsum.photos/400?2"],avaliacao:4.5},
      {id:2,nome:"T√™nis Esportivo",preco:299.90,desc:"T√™nis leve e confort√°vel para corrida.",imagens:["https://picsum.photos/400?3","https://picsum.photos/400?4"],avaliacao:4.8},
      {id:3,nome:"Rel√≥gio Smart",preco:499.90,desc:"Smartwatch com monitor de sa√∫de.",imagens:["https://picsum.photos/400?5","https://picsum.photos/400?6"],avaliacao:4.2}
    ];

    const catalogo=document.getElementById("catalogo");
    const modal=document.getElementById("productModal");
    const cartModal=document.getElementById("cart-modal");
    const cartBtn=document.getElementById("cart-btn");
    const cartCount=document.getElementById("cart-count");
    const cartItemsEl=document.getElementById("cart-items");
    const cartTotalEl=document.getElementById("cart-total");
    const paySelect=document.getElementById("pay");
    const extra=document.getElementById("extra");

    let cart=[]; let selectedProduct=null; let favoritos=[];

    // Render cat√°logo
    function renderCatalogo(lista){
      catalogo.innerHTML="";
      lista.forEach(p=>{
        const card=document.createElement("div");
        card.className="card";
        card.innerHTML=`
          <button class="fav-btn" onclick="toggleFav(event,${p.id})">‚ù§</button>
          <img src="${p.imagens[0]}">
          <h3>${p.nome}</h3>
          <p>R$ ${p.preco.toFixed(2)}</p>
          <div class="stars">${renderStars(p.avaliacao)}</div>`;
        card.onclick=()=>openProduct(p);
        catalogo.appendChild(card);
      });
    }
    renderCatalogo(produtos);

    // Filtro pesquisa
    function filtrarProdutos(){
      const termo=document.getElementById("search").value.toLowerCase();
      const filtrados=produtos.filter(p=>p.nome.toLowerCase().includes(termo) || p.desc.toLowerCase().includes(termo));
      renderCatalogo(filtrados);
    }

    function renderStars(nota){
      const full=Math.floor(nota);
      const half=nota%1>=0.5?1:0;
      let stars="‚òÖ".repeat(full)+(half?"¬Ω":"");
      return stars+" ‚òÜ".repeat(5-full-half);
    }

    function toggleFav(e,id){
      e.stopPropagation();
      const btn=e.target;
      if(favoritos.includes(id)){
        favoritos=favoritos.filter(f=>f!==id);
        btn.classList.remove("active");
      } else {
        favoritos.push(id);
        btn.classList.add("active");
      }
    }

    function openProduct(prod){
      selectedProduct=prod;
      modal.style.display="flex";
      document.getElementById("prodTitle").innerText=prod.nome;
      document.getElementById("prodStars").innerHTML=renderStars(prod.avaliacao);
      document.getElementById("mainImg").src=prod.imagens[0];
      document.getElementById("prodDesc").innerText=prod.desc;
      document.getElementById("prodPrice").innerText="R$ "+prod.preco.toFixed(2);
      const thumbs=document.getElementById("thumbs"); thumbs.innerHTML="";
      prod.imagens.forEach(img=>{
        const t=document.createElement("img");
        t.src=img; t.onclick=()=>document.getElementById("mainImg").src=img;
        thumbs.appendChild(t);
      });
      document.getElementById("buyWhats").onclick=()=>window.open(`https://wa.me/5551998378751?text=Quero%20comprar%20${prod.nome}%20por%20R$${prod.preco.toFixed(2)}`);
      document.getElementById("buySite").onclick=()=>alert("Aqui voc√™ pode integrar com checkout no site.");
      document.getElementById("addCart").onclick=()=>addToCart(prod);
    }
    function closeModal(){ modal.style.display="none"; }

    function addToCart(prod){
      cart.push(prod);
      updateCart();
      closeModal();
    }

    function updateCart(){
      cartItemsEl.innerHTML="";
      let total=0;
      cart.forEach(item=>{
        total+=item.preco;
        const el=document.createElement("div");
        el.className="cart-item";
        el.innerHTML=`<img src="${item.imagens[0]}"><span>${item.nome}</span><span>R$ ${item.preco.toFixed(2)}</span>`;
        cartItemsEl.appendChild(el);
      });
      cartTotalEl.innerText=total.toFixed(2);
      cartCount.innerText=cart.length;
    }

    cartBtn.onclick=()=>cartModal.style.display="flex";
    function closeCart(){ cartModal.style.display="none"; }

    // Finalizar pelo WhatsApp
    function checkoutWhats(){
      let msg="Ol√°, quero finalizar minha compra:\n";
      cart.forEach(i=>msg+=`- ${i.nome} R$${i.preco.toFixed(2)}\n`);
      msg+=`Total: R$ ${cart.reduce((a,b)=>a+b.preco,0).toFixed(2)}`;
      window.open("https://wa.me/5551998378751?text="+encodeURIComponent(msg));
    }

    // Simula√ß√£o de pagamento interno
    function checkoutCatalog(){
      const metodo=paySelect.value;
      if(metodo==="pix"){
        extra.innerHTML="<p>‚ö° Use o Pix para pagar: chave <b>pix@empresa.com</b></p>";
      } else if(metodo==="card"){
        extra.innerHTML="<p>üí≥ Pagamento via cart√£o ainda em integra√ß√£o.</p>";
      } else {
        extra.innerHTML="<p>üìÑ Boleto gerado! Pague at√© a data de vencimento.</p>";
      }
    }
  </script>
</body>
</html>