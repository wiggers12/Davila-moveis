<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sua Marca Aqui ğŸ‘‘</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
<style>
:root{
  --primary:#9d4edd;--secondary:#ffb347;--success:#2ecc71;--info:#4dabf7;--danger:#ff4d6d;
  --dark-bg:#0f0f1a;--card-bg:rgba(255,255,255,.08);
  --light:#fff;--shadow:0 8px 25px rgba(0,0,0,.4);
}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Poppins',sans-serif;background:var(--dark-bg);color:var(--light);}
header{background:linear-gradient(135deg,#7b2cbf,#5a189a);color:#fff;padding:1.5rem;text-align:center;box-shadow:var(--shadow);}
nav{background:rgba(20,20,40,.8);backdrop-filter:blur(12px);display:flex;overflow-x:auto;position:sticky;top:0;z-index:100;}
nav button{flex:1;min-width:120px;border:none;background:none;padding:1rem;font-weight:600;cursor:pointer;color:#aaa;}
nav button.active{color:var(--primary);}
section{display:none;padding:1.5rem;max-width:1200px;margin:auto;}
section.active{display:block;}
/* Produtos */
.swiper{width:100%;padding:1rem 0;}
.swiper-slide{background:var(--card-bg);border-radius:16px;box-shadow:var(--shadow);overflow:hidden;text-align:center;}
.swiper-slide img,.swiper-slide video{width:100%;height:220px;object-fit:cover;}
.product-info{padding:1rem;}
.order-button{background:linear-gradient(145deg,#9d4edd,#5a189a);color:#fff;border:none;padding:.7rem 1.2rem;border-radius:10px;cursor:pointer;font-weight:600;}
.order-button:disabled{background:#555;cursor:not-allowed;}
/* Carrinho */
.cart-container{background:var(--card-bg);padding:1.5rem;border-radius:16px;box-shadow:var(--shadow);}
.cart-item{display:flex;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,.1);padding:.5rem 0;}
.cart-total{font-weight:700;color:var(--secondary);text-align:right;margin-top:1rem;font-size:1.1rem;}
.btn-finish{background:linear-gradient(145deg,#2ecc71,#208d4e);color:#fff;border:none;padding:1rem;border-radius:10px;width:100%;margin-top:1rem;font-weight:700;cursor:pointer;}
input,select,textarea{width:100%;padding:.7rem;margin:.4rem 0;border:none;border-radius:8px;}
/* LogÃ­stica */
.order-card{background:var(--card-bg);padding:1rem;margin:.8rem 0;border-radius:12px;box-shadow:var(--shadow);}
.status{padding:.3rem .6rem;border-radius:8px;font-size:.8rem;font-weight:600;display:inline-block;}
.status-Recebido{background:var(--info);}
.status-PreparaÃ§Ã£o{background:var(--secondary);}
.status-Saiu{background:#ffa94d;}
.status-ConcluÃ­do{background:var(--success);}
.status-Cancelado{background:var(--danger);}
</style>
</head>
<body>

<header>
  <h1>Sua Marca Aqui ğŸ‘‘</h1>
  <p>GestÃ£o completa: Vitrine, Estoque, Pedidos, Financeiro e LogÃ­stica</p>
</header>

<nav>
  <button class="active" onclick="showTab('catalogo')">ğŸ›’ CatÃ¡logo</button>
  <button onclick="showTab('carrinho')">ğŸ› Carrinho</button>
  <button onclick="showTab('pedidos')">ğŸ“¦ Pedidos</button>
  <button onclick="showTab('financeiro')">ğŸ’° Financeiro</button>
  <button onclick="showTab('estoque')">ğŸ“Š Estoque</button>
  <button onclick="showTab('logistica')">ğŸšš LogÃ­stica</button>
</nav>

<!-- CatÃ¡logo -->
<section id="catalogo" class="active">
  <h2>Monte seu AÃ§aÃ­</h2>
  <div class="swiper">
    <div class="swiper-wrapper" id="products-container"></div>
  </div>
</section>

<!-- Carrinho -->
<section id="carrinho">
  <h2>ğŸ› Seu Pedido</h2>
  <div class="cart-container">
    <div id="cart-items"><p>Seu carrinho estÃ¡ vazio</p></div>
    <div class="cart-total">Itens: <span id="cart-subtotal">R$ 0,00</span></div>
    <div class="cart-total">Frete: <span id="cart-frete">R$ 0,00</span></div>
    <div class="cart-total">Total: <span id="cart-total-price">R$ 0,00</span></div>
    <input id="client-name" placeholder="Nome">
    <input id="client-phone" placeholder="Telefone">
    <select id="delivery-type" onchange="toggleDeliveryForm()">
      <option value="Retirada">Retirada</option>
      <option value="Entrega">Entrega</option>
    </select>
    <div id="delivery-form" style="display:none;">
      <input id="client-address" placeholder="EndereÃ§o completo">
      <textarea id="client-notes" placeholder="ObservaÃ§Ãµes"></textarea>
    </div>
    <select id="payment-method"><option>Pix</option><option>Dinheiro</option><option>CartÃ£o</option></select>
    <button class="btn-finish" id="finish-order-button" disabled>Finalizar Pedido</button>
  </div>
</section>

<!-- Pedidos -->
<section id="pedidos"><h2>ğŸ“¦ Pedidos</h2><div id="orders-list"></div></section>

<!-- Financeiro -->
<section id="financeiro"><h2>ğŸ’° Financeiro</h2><canvas id="salesChart"></canvas></section>

<!-- Estoque -->
<section id="estoque">
  <h2>ğŸ“Š Estoque</h2>
  <div style="margin-bottom:1rem;">
    <input id="new-name" placeholder="Nome do produto">
    <input id="new-price" placeholder="PreÃ§o" type="number">
    <input id="new-cost" placeholder="Custo" type="number">
    <input id="new-stock" placeholder="Estoque inicial" type="number">
    <input id="new-media" type="file" accept="image/*,video/*">
    <button onclick="addProduct()">Adicionar Produto</button>
  </div>
  <div id="stock-list"></div>
</section>

<!-- LogÃ­stica -->
<section id="logistica"><h2>ğŸšš LogÃ­stica</h2><div id="logistics-list"></div></section>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
let cart=[],orders=JSON.parse(localStorage.getItem("acaiOrders"))||[];
let PRODUCTS=JSON.parse(localStorage.getItem("acaiProducts"))||[];
const FRETE_FIXO=5.0;

function showTab(id){document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));document.getElementById(id).classList.add("active");render();}
function toggleDeliveryForm(){document.getElementById("delivery-form").style.display=document.getElementById("delivery-type").value==="Entrega"?"block":"none";updateCart();}

function renderProducts(){
 document.getElementById("products-container").innerHTML=PRODUCTS.map(p=>`
   <div class="swiper-slide">
     ${p.media.includes("video")?`<video src="${p.media}" controls></video>`:`<img src="${p.media}" alt="${p.name}">`}
     <div class="product-info">
       <h3>${p.name}</h3>
       <p><strong>R$ ${p.price}</strong></p>
       <button class="order-button" onclick="addToCart(${p.id})" ${p.stock<=0?"disabled":""}>${p.stock<=0?"Sem estoque":"Selecionar"}</button>
     </div>
   </div>`).join("");
 new Swiper(".swiper",{slidesPerView:1,loop:true});
}
function addToCart(id){let p=PRODUCTS.find(x=>x.id===id);if(p&&p.stock>0){cart.push({product:p,total:p.price});p.stock--;saveProducts();updateCart();renderProducts();}}
function updateCart(){
 let c=document.getElementById("cart-items");
 if(cart.length==0){c.innerHTML="<p>Seu carrinho estÃ¡ vazio</p>";}
 else{c.innerHTML=cart.map((it,i)=>`<div class="cart-item">${it.product.name} <span>R$ ${it.total}</span></div>`).join("");}
 let subtotal=cart.reduce((s,i)=>s+i.total,0);
 let frete=document.getElementById("delivery-type").value==="Entrega" && subtotal>0?FRETE_FIXO:0;
 document.getElementById("cart-subtotal").innerText="R$ "+subtotal.toFixed(2);
 document.getElementById("cart-frete").innerText="R$ "+frete.toFixed(2);
 document.getElementById("cart-total-price").innerText="R$ "+(subtotal+frete).toFixed(2);
 checkForm();
}
function checkForm(){document.getElementById("finish-order-button").disabled=!(document.getElementById("client-name").value&&document.getElementById("client-phone").value&&cart.length>0);}
document.getElementById("client-name").addEventListener("input",checkForm);document.getElementById("client-phone").addEventListener("input",checkForm);
document.getElementById("finish-order-button").addEventListener("click",finalizarPedido);

function finalizarPedido(){
 let subtotal=cart.reduce((s,i)=>s+i.total,0);
 let frete=document.getElementById("delivery-type").value==="Entrega"?FRETE_FIXO:0;
 let o={id:Date.now(),customerName:document.getElementById("client-name").value,phone:document.getElementById("client-phone").value,deliveryType:document.getElementById("delivery-type").value,address:document.getElementById("client-address")?document.getElementById("client-address").value:"",notes:document.getElementById("client-notes")?document.getElementById("client-notes").value:"",payment:document.getElementById("payment-method").value,items:cart,totalItems:subtotal,frete:frete,total:subtotal+frete,status:"Recebido",createdAt:new Date().toLocaleString()};
 orders.push(o);localStorage.setItem("acaiOrders",JSON.stringify(orders));cart=[];updateCart();alert("Pedido registrado!");render();
}

// Estoque
function addProduct(){
 let file=document.getElementById("new-media").files[0];
 let reader=new FileReader();
 reader.onload=function(e){
   let p={id:Date.now(),name:document.getElementById("new-name").value,price:parseFloat(document.getElementById("new-price").value),cost:parseFloat(document.getElementById("new-cost").value),stock:parseInt(document.getElementById("new-stock").value),media:e.target.result};
   PRODUCTS.push(p);saveProducts();render();
 };
 if(file) reader.readAsDataURL(file);
}
function saveProducts(){localStorage.setItem("acaiProducts",JSON.stringify(PRODUCTS));}
function renderStock(){document.getElementById("stock-list").innerHTML=PRODUCTS.map(p=>`${p.name} - R$ ${p.price} - Estoque:${p.stock}`).join("<br>");}

// RenderizaÃ§Ãµes
function render(){renderProducts();renderStock();renderOrders();renderLogistics();}
function renderOrders(){document.getElementById("orders-list").innerHTML=orders.map(o=>`<div class="cart-item">#${o.id} - ${o.customerName} - ${o.deliveryType} - R$${o.total}</div>`).join("");}
function renderLogistics(){
 let c=document.getElementById("logistics-list");
 if(orders.length===0){c.innerHTML="<p>Nenhum pedido na logÃ­stica.</p>";return;}
 c.innerHTML=orders.map(o=>`
   <div class="order-card">
     <strong>Pedido #${o.id}</strong> - ${o.customerName} (${o.phone})<br>
     Tipo: ${o.deliveryType}<br>
     ${o.deliveryType==="Entrega" ? `EndereÃ§o: ${o.address} <a href="https://maps.google.com?q=${encodeURIComponent(o.address)}" target="_blank">ğŸ“</a>` : `ğŸ“ Retirada na loja`}<br>
     Pagamento: ${o.payment}<br>
     Itens: ${o.items.map(i=>i.product.name).join(", ")}<br>
     Subtotal: R$ ${o.totalItems.toFixed(2)} | Frete: R$ ${o.frete.toFixed(2)} | <strong>Total: R$ ${o.total.toFixed(2)}</strong><br>
     <small>Data: ${o.createdAt}</small><br>
     <span class="status status-${o.status}">${o.status}</span><br>
     <label>Status: 
       <select onchange="updateStatus(${o.id},this.value)">
         <option ${o.status==="Recebido"?"selected":""}>Recebido</option>
         <option value="PreparaÃ§Ã£o" ${o.status==="PreparaÃ§Ã£o"?"selected":""}>Em preparaÃ§Ã£o</option>
         <option value="Saiu" ${o.status==="Saiu"?"selected":""}>Saiu</option>
         <option ${o.status==="ConcluÃ­do"?"selected":""}>ConcluÃ­do</option>
         <option ${o.status==="Cancelado"?"selected":""}>Cancelado</option>
       </select>
     </label>
   </div>`).join("");
}
function updateStatus(id,newStatus){let o=orders.find(x=>x.id===id);if(o){o.status=newStatus;localStorage.setItem("acaiOrders",JSON.stringify(orders));renderLogistics();}}

render();
</script>
</body>
</html>